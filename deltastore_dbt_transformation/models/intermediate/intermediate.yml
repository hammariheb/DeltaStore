version: 2

models:
  - name: int_customer_id_mapping
    description: "Creates a unified customer ID by merging customer data from the old store and the new store."
    columns:
      - name: customer_id
        description: "Original customer ID from the respective store."
      - name: first_name
        description: "Customer's first name."
      - name: last_name
        description: "Customer's last name."
      - name: phone_number
        description: "Customer's phone number."
      - name: email
        description: "Customer's email address."
      - name: address
        description: "Customer's address."
      - name: city
        description: "City where the customer resides."
      - name: source_store
        description: "Indicates whether the customer comes from the old store or new store."
      - name: created_at
        description: "Timestamp when the customer record was created."
      - name: updated_at
        description: "Timestamp when the customer record was last updated."
      - name: unified_customer_id
        description: "A unique identifier generated by combining source_store and customer_id."

  - name: int_customers_cities
    description: "Enhances customer data by joining with city information from a filtered list of US cities."
    columns:
      - name: unified_customer_id
        description: "Unified customer ID."
      - name: customer_id
        description: "Original customer ID from the respective store."
      - name: first_name
        description: "Customer's first name."
      - name: last_name
        description: "Customer's last name."
      - name: phone_number
        description: "Customer's phone number."
      - name: email
        description: "Customer's email address."
      - name: address
        description: "Customer's address."
      - name: city
        description: "City where the customer resides."
      - name: country_name
        description: "Country associated with the customer's city."
      - name: source_store
        description: "Indicates whether the customer comes from the old store or new store."
      - name: created_at
        description: "Timestamp when the customer record was created."
      - name: updated_at
        description: "Timestamp when the customer record was last updated."

  - name: int_product_id_mapping
    description: "Creates a unified product ID by merging product data from both the old and new stores."
    columns:
      - name: product_id
        description: "Original product ID from the respective store."
      - name: product_name
        description: "Name of the product."
      - name: description
        description: "Description of the product."
      - name: category
        description: "Category under which the product falls."
      - name: price
        description: "Price of the product."
      - name: supplier_id
        description: "Supplier identifier associated with the product."
      - name: rating_rate
        description: "Customer rating of the product."
      - name: source_store
        description: "Indicates whether the product comes from the old store or new store."
      - name: updated_at
        description: "Timestamp when the product record was last updated."
      - name: unified_product_id
        description: "A unique identifier generated by combining source_store and product_id."

  - name: int_reviews_customers_products
    description: "Maps customer reviews to their corresponding unified product and customer IDs."
    columns:
      - name: review_unique_id
        description: "Unique identifier for the review."
      - name: unified_product_id
        description: "Unified product ID mapped from int_product_id_mapping."
      - name: unified_customer_id
        description: "Unified customer ID mapped from int_customer_id_mapping."
      - name: rating
        description: "Customer rating given in the review."
      - name: review_text
        description: "Text content of the review."
      - name: review_date
        description: "Date when the review was submitted."
      - name: source_store
        description: "Indicates whether the review originates from the old store."
